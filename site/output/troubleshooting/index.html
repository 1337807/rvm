<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>
      rvm: Ruby Version Manager -
      Troubleshooting
    </title>
    <link href='/bp.css' media='screen' rel='stylesheet' type='text/css' />
    <link href='/style.css' media='screen' rel='stylesheet' type='text/css' />
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type' />
  </head>
  <body>
    <a href='http://github.com/wayneeseguin/rvm'>
      <img alt='Fork me on GitHub' src='http://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png' style='position: absolute; top: 0; right: 0; border: 0;' />
    </a>
    <div class='span-7' id='sidebar'>
      <div id='header'>
        <div class='title'>
          <a href='/'>
            rvm
          </a>
        </div>
        <div class='tagline'>
          Ruby Version Manager
        </div>
      </div>
    </div>
    <br />
    <div class='container'>
      <div class='span-5 append-1' id='sidebar'>
        <h2>
          Documentation
        </h2>
        <ul>
          <li>
            <a href='/introduction/'>
              Introduction
            </a>
          </li>
          <li>
            <a href='/install/'>
              Installing rvm
            </a>
          </li>
          <li>
            <a href='/upgrade/'>
              Upgrading rvm
            </a>
          </li>
          <li>
            <a href='/cli/'>
              CLI
            </a>
          </li>
          <li>
            <a href='/rubies/'>
              Installing Rubies
            </a>
          </li>
          <li>
            <a href='/default/'>
              Set Default interpreter
            </a>
          </li>
          <li>
            <a href='/gems/'>
              Ruby Gems
            </a>
          </li>
          <li>
            <a href='/gemsets/'>
              Named gems(ets)
            </a>
          </li>
          <li>
            <a href='/ruby/'>
              ruby 'do' action
            </a>
          </li>
          <li>
            <a href='/rake/'>
              rake 'do' action
            </a>
          </li>
          <li>
            <a href='/gem/'>
              gem 'do' action
            </a>
          </li>
          <li>
            <a href='/benchmark/'>
              benchmarking
            </a>
          </li>
          <li>
            <a href='/monitor/'>
              monitor
            </a>
          </li>
          <li>
            <a href='/subshells/'>
              Subshells
            </a>
          </li>
          <li>
            <a href='/rvmrc/'>
              rvmrc
            </a>
          </li>
          <li>
            <a href='/hooks/'>
              hooks
            </a>
          </li>
          <li>
            <a href='/prompt/'>
              Prompt
            </a>
          </li>
          <li>
            <a href='/examples/'>
              Many Examples
            </a>
          </li>
          <li>
            <a href='/faq/'>
              FAQ & Notes
            </a>
          </li>
          <li>
            <a href='/requirements/'>
              Pre-Requirements
            </a>
          </li>
          <li>
            <a href='/passenger/'>
              Passenger
            </a>
          </li>
          <li>
            <a href='/bundler/'>
              Bundler
            </a>
          </li>
          <li>
            <a href='/zsh/'>
              Zsh
            </a>
          </li>
          <li>
            <a href='/mysql/'>
              MySQL
            </a>
          </li>
          <li>
            <a href='/troubleshooting/'>
              Troubleshooting
            </a>
          </li>
          <li>
            <a href='/contribute/'>
              Contributing
            </a>
          </li>
          <li>
            <a href='/about/'>
              About
            </a>
          </li>
          <li>
            <a href='/donations/'>
              Donations
            </a>
          </li>
          <li>
            <a href='/thanks/'>
              Credits &amp; Thanks
            </a>
          </li>
        </ul>
        <h2>
          Development
        </h2>
        <ul>
          <li>
            <a href='http://groups.google.com/group/rubyversionmanager/'>
              Google Group
            </a>
          </li>
          <li>
            <a href='http://github.com/wayneeseguin/rvm/tree/master'>
              Git (GitHub)
            </a>
          </li>
          <li>
            <a href='https://www.pivotaltracker.com/projects/26822'>
              Pivotal Tracker Project
            </a>
          </li>
        </ul>
      </div>
      <div class='span-18' id='main'>
        <a name='top'></a>
        <h1>
          Troubleshooting
        </h1>
        <p>
          Here we will explore common issues and their resolutions.
          Visit me (wayneeseguin) in #rvm on irc.freenode.net and let me help you with any issues and please leave feedback!
        </p>
        <h2>
          Before trying any solution below
        </h2>
        <p>
          <ul>
            <li>
              Make sure that you are on the latest gem version (rvm update) or git HEAD (rvm update --head).
            </li>
            <li>
              make sure that the sourcing of the rvm file occurs *last* in your profile files (.bash_profile / .bashrc / .zshrc) essentially after any customizations of PATH / functions or aliases.
            </li>
            <li>
              Be sure to be using either bash or zsh, rvm (latest versions preferred) is untested at best in other shells.
            </li>
          </ul>
        </p>
        <h2>
          MySQL
        </h2>
        <p>
          If you are having issues installing MySQL gem for a ruby please visit the
          <a href='/passenger'>
            MySQL page.
          </a>
        </p>
        <h2>
          Passenger
        </h2>
        <p>
          If you are having issues getting passenger running with an rvm installed ruby, most likely you missed the '.bin/[ruby string]' comment on the
          <a href='/passenger'>
            passenger page.
          </a>
        </p>
        <h2>
          Readline
        </h2>
        <p>
          If you have an error when compiling pertaining to readline, you may need to attempt installing with the following configure option:
          <br />
          <pre class='code'>rvm install 1.9.1 -C --enable-shared=yes,--with-readline-dir=/usr/local</pre>
        </p>
        <p>
          Note that this error occurs most often when having a macports installed readline along your path.
          Next most often is when the readline development headers are not available in your path.
        </p>
        <p>
          If you simply cannot seem to get this to work you can have rvm install a copy of readline into ~/.rvm/usr like so:
          <br />
          <pre class='code'>rvm install readline&#x000A;rvm remove 1.9.1 ; rvm install 1.9.1</pre>
        </p>
        <p>
          Be sure you are on either rvm git head or release 0.0.78+ as it has some essential bug fixes for this to work properly.
        </p>
        <p>
          Then
        </p>
        <h2>
          require "iconv" # => false ?!
        </h2>
        <p>
          If you have issues with iconv not being available in ruby / irb please try the following configure option:
        </p>
        <pre class='code'>rvm install 1.9.1 -C --enable-shared=yes,--with-iconv-dir=/usr/local</pre>
        <p>
          Where you replace '/usr/local' with the prefix where your iconv libraries are. (Thanks to Justin Chen for bringing this doosey to our attention!)
        </p>
        <p>
          If you simply cannot seem to get this to work you can have rvm install a copy of readline into ~/.rvm/usr like so:
          <br />
          <pre class='code'>rvm install iconv&#x000A;rvm remove 1.9.1 ; rvm install 1.9.1</pre>
        </p>
        <p>
          Be sure you are on either rvm git head or release 0.0.78+ as it has some essential bug fixes for this to work properly.
        </p>
        <h2>
          curl failing, 'curl is' ?!
        </h2>
        <p>
          If you see this:
        </p>
        <pre class='code'>++ curl is /opt/local/bin/curl -O -L -s -C - ftp://ftp.ruby-lang.org/pub/ruby/1.8/ruby-1.8.6-p383.tar.gz&#x000A;curl: Remote file name has no length!&#x000A;curl: try 'curl --help' or 'curl --manual' for more information</pre>
        <p>
          Then maybe you have aliased or symlinked the 'which' command to the 'type' command, revert this and rvm should work.
        </p>
        <h2>
          I can't seem to install the pg gem.
        </h2>
        <p>
          Prepend with a variable assignment for PATH with the location of the pg_config file, for example:
        </p>
        <pre class='code'>PATH=/Users/wayne/.dbm/postgresql-8.4.0/bin:$PATH gem install pg --no-rdoc --no-ri&#x000A;</pre>
        <h2>
          After selecting a ruby, rubygems is still showing system gem.
        </h2>
        <p>
          Most commonly this is due to RUBYOPT.
          rvm attempts to disable it during installation however you may need to manually disable RUBYOPT while installing a ruby.
          Check the ~/.rvm/log/[ruby you are installing]/rubygems.install.error.log to see if this might be the case.
        </p>
        <h2>
          My path seems empty / curl not found
        </h2>
        <p>
          This is most often due to your environment being setup incorrectly up when you call rvm for the first time so that the wrong system defaults get recorded.
          Run 'rvm reset' (or manually remove ~/.rvm/current and ~/.rvm/default*).
          Next open a new terminal shell and use rvm to select a ruby.
          This will record new system defaults.
          One more thing to be aware of is that the sourcing of rvm in your profiles shoul occur essentially last, after any path / alias / function / etc... setup.
        </p>
        <h2>rvm() is missing</h2>
        <p>
          Do not place exit's and/or returns in the .bashrc and .bash_profile files.
          This has been found to be one cause of this issue.
          rvm is a set of bash functions and bash scripts so by having anything return / exit from those it interrupts the rvm's flow.
        </p>
        <h2>
          When in doubt...
        </h2>
        <p>
          If all else fails 'rvm implode' then 'rvm update'
          If this still does not resolve your particular issue, please visit me (wayneeseguin) in #rvm on irc.freenode.net
        </p>
        <a name='bottom'></a>
      </div>
      <div class='span-5 prepend-1 rightlast' id='sidebar'>
        <h2>
          Sponsors
        </h2>
        <p>
          <a href='http://www.blueboxgrp.com/'>
            Blue Box Group
          </a>
        </p>
        <h2>
          Donate
        </h2>
        <p>
          Love rvm? A donation would help justify to my wife why I spend so much time working on Open Source projects like rvm ;)
        </p>
        <a href='http://www.pledgie.com/campaigns/7067'>
          <img alt='Click here to lend your support to: rvm and make a donation at www.pledgie.com !' border='0' src='http://www.pledgie.com/campaigns/7067.png?skin_name=chrome' />
        </a>
        <h2>
          Recommend
        </h2>
        <p>
          If you like my work with rvm, please recommend me on *with a comment as to why you recommend me* on
          <a href='http://www.workingwithrails.com/recommendation/for/person/7192-wayne-e-seguin'>
            Working With Rails
          </a>
          Thank You!!!
        </p>
        <h2>
          IRC
        </h2>
        <ul>
          <li>
            <a href='http://webchat.freenode.net/?channels=rvm'>
              irc.freenode.net#rvm
            </a>
          </li>
          <li>
            wayneeseguin
          </li>
        </ul>
      </div>
    </div>
  </body>
</html>
